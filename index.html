<!DOCTYPE html>
<html>
<head>
  <title>Google Sheet Electronics Tracker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="p-4">
  <h3>ðŸ”§ Electronics Tracker (Google Sheet)</h3>
  <form id="addForm" class="row g-3 my-3">
    <div class="col-md-3"><input class="form-control" id="name" placeholder="Component Name" required></div>
    <div class="col-md-2"><input class="form-control" id="qty" type="number" placeholder="Quantity" required></div>
    <div class="col-md-3"><input class="form-control" id="loc" placeholder="Location"></div>
    <div class="col-md-4"><button class="btn btn-primary" type="submit">Add Component</button></div>
  </form>

  <h5 class="mt-4">ðŸ“¦ Current Inventory</h5>
  <table class="table table-bordered">
    <thead><tr><th>Name</th><th>Quantity</th><th>Location</th></tr></thead>
    <tbody id="inventoryTable"></tbody>
  </table>

<script>
  const API_URL = "https://script.google.com/macros/s/AKfycbxZOkEL0A4X9WgSxdjpwirG_d9P7oKeyQ5Mnb5pVeMnHIFXy630rrXVYFYYU2L1fvQlGg/exec";

  async function loadInventory() {
    const res = await fetch(API_URL);
    const data = await res.json();
    const table = document.getElementById("inventoryTable");
    table.innerHTML = "";
    data.forEach(item => {
      table.innerHTML += `<tr><td>${item.Name}</td><td>${item.Quantity}</td><td>${item.Location}</td></tr>`;
    });
  }

  document.getElementById("addForm").addEventListener("submit", async e => {
    e.preventDefault();
    const body = {
      Name: document.getElementById("name").value,
      Quantity: parseInt(document.getElementById("qty").value),
      Location: document.getElementById("loc").value
    };

    await fetch(API_URL, {
      method: "POST",
      body: JSON.stringify(body),
      headers: { "Content-Type": "application/json" }
    });

    e.target.reset();
    loadInventory();
  });

  loadInventory();
</script>
</body>
</html>
